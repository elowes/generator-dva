#!/usr/bin/env node

const { logGreen, logRed, installDependencies, renderEjsTmpl, initProj } = require('../lib/utils');
const spawn = require('cross-spawn');
const program = require('commander');
const fs = require('fs');
const path = require('path');
const inquirer = require('inquirer');

program
  .command('init [app-name]')
  .alias('i')
  .description('在[app-name]文件夹下创建React&Dva应用，如果没有[app-name]，则直接在当前目录下创建')
  .action(function(appName) {
    if (!appName) {
      const appPath = path.resolve('./');
      initProj(appPath);
      // const args = {
      //   antd: true,
      //   name: 'name',
      //   description: 'description',
      //   author: 'author'
      // }
      // renderEjsTmpl(args, appPath);
    } else {
      const appPath = path.resolve(`./${appName}`);
      initProj(appPath);
    }
  })

program
  .version(require('../package.json').version, '-v, --version')

program.parse(process.argv);